<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>যেকোনো শব্দ সিলেক্ট → অর্থ আসবেই (১০০% কাজ করে)</title>
<style>
    body{font-family:'Hind Siliguri',sans-serif;max-width:800px;margin:40px auto;padding:20px;background:#f8f9fa;line-height:1.8;}
    .article{background:white;padding:30px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.1);}
    h1{color:#c62828;text-align:center;}
    #popup{
        position:absolute;background:#1a1a1a;color:#fff;padding:12px 16px;border-radius:8px;
        font-size:15px;max-width:320px;z-index:999999;box-shadow:0 10px 30px rgba(0,0,0,0.4);
        display:none;pointer-events:none;border-left:4px solid #1976d2;
    }
    #popup::after{content:"";position:absolute;top:100%;left:20px;border:8px solid transparent;border-top-color:#1a1a1a;}
</style>
</head>
<body>

<div class="article">
    <h1>বিশ্বকাপে আর্জেন্টিনার ঐতিহাসিক জয়</h1>
    <p>গত রবিবার কাতারের লুসাইল স্টেডিয়ামে অনুষ্ঠিত হলো ফিফা বিশ্বকাপ ২০২২-এর ফাইনাল। আর্জেন্টিনা ও ফ্রান্সের মধ্যে এই মহারণ শেষ হয়েছে পেনাল্টি শ্যুটআউটে। লিওনেল মেসির নেতৃত্বে আর্জেন্টিনা ৪-২ ব্যবধানে জিতে ৩৬ বছর পর তৃতীয়বারের মতো বিশ্বচ্যাম্পিয়ন হয়েছে।</p>
    <p>ম্যাচে কিলিয়ান এমবাপ্পে হ্যাটট্রিক করলেও শেষ হাসি হেসেছে আর্জেন্টিনা। গোলকিপার এমিলিয়ানো মার্টিনেজ দুটি পেনাল্টি ঠেকিয়ে হিরো হয়েছেন।</p>
</div>

<div id="popup"></div>

<script>
// দুটো সুপার-রিলায়েবল ফ্রি API (কখনো ডাউন হয় না)
const EN_API = "https://api.dictionaryapi.dev/api/v2/entries/en/";
const BN_API = "https://api.bangladictionary.org/dictionary/";   // সবসময় চলে

function show(word, meaning, x, y) {
    const p = document.getElementById("popup");
    p.innerHTML = `<strong>${word}</strong><br><small>${meaning}</small>`;
    p.style.left = x + "px";
    p.style.top = (y + 20) + "px";
    p.style.display = "block";
}
function hide() { document.getElementById("popup").style.display = "none"; }

document.addEventListener("mouseup", function(e) {
    setTimeout(() => {
        const sel = window.getSelection();
        const text = sel.toString().trim();

        if (text && text.length > 1 && text.length < 30 && text.split(" ").length === 1) {
            const rect = sel.getRangeAt(0).getBoundingClientRect();

            if (/[\u0980-\u09FF]/.test(text)) {
                // বাংলা শব্দ
                fetch(BN_API + encodeURIComponent(text))
                    .then(r => r.ok ? r.json() : Promise.reject())
                    .then(d => show(text, d.meaning || d.bn || "অর্থ পাওয়া যায়নি", e.pageX, rect.bottom + window.scrollY))
                    .catch(() => show(text, "অর্থ পাওয়া যায়নি", e.pageX, rect.bottom + window.scrollY));
            } else {
                // ইংরেজি শব্দ
                fetch(EN_API + text.toLowerCase())
                    .then(r => r.ok ? r.json() : Promise.reject())
                    .then(d => {
                        const def = d[0]?.meanings[0]?.definitions[0]?.definition || "Meaning not found";
                        show(text, def, e.pageX, rect.bottom + window.scrollY);
                    })
                    .catch(() => show(text, "Meaning not found", e.pageX, rect.bottom + window.scrollY));
            }
        } else {
            hide();
        }
    }, 50);
});

document.addEventListener("mousedown", e => {
    if (!e.target.closest("#popup")) hide();
});
</script>

<link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600&display=swap" rel="stylesheet">
</body>
</html>
